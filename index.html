<!DOCTYPE html>
<html>
  <head>
    <!-- Import Vega 5 & Vega-Lite 3 (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3"></script>
    <!-- Import vega-embed i chnaged above from 3 to 4-->
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@4"></script>
    <title>Leisure Studies</title>
    <meta charset="utf-8" />
    <link rel="stylesheet"  href="src/stylesheets/main.css" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
  </head>
  <a href="https://github.com/qunderriner/Dyanamic_2" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  <h1 align="center">Leisure Studies</h1>
  <h3 align="center">How do happy people spend their time?</h3>
  <h4 align="center">By Quinn Underriner</h3>
  <p>How do happy people spend their time?
    The American Time Use Survey (ATUS) is an annual survey that takes a
    statistically representative cross section of the US population and asks
    them, to the minute, how they spend their time.
    In 2010, 2011 and 2012, participants in the American Time Use Survey
    were asked to rate their mood on a likert scale (e.g., in gradations from 1 to 7).
    I took those who labeled themselves as the happiest,
    and the least stressed, and examined how, on average,
    they were spending their time compared to those who rated
    themselves and deeply unhappy, and extremely stressed. </p>
  <body>
    <p>On average, the happiest people spend 15 more minutes a day caring for people in their household,
      and about 18 minutes less working.</p>
    <p>The least stressed out people spent 40 more minutes on education
      related activities and 26 more minutes on personal care.
  </p>
  <p>The chart below shows some stark time use differences between people who rate themselves as very happy 
    and those who report only moderate or low levels of happiness. Happy people generally spend 
    more time caring for family members, playing sports, volunteering, etc.
</p>
<div id="vis3">
  <script type="text/javascript">
      var spec2 =
        "https://raw.githubusercontent.com/qunderriner/Dyanamic_2/master/data/static.json";
      vegaEmbed("#vis3", spec2)
        .then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
      </script>
        </div>
  <p>The tool below allows you to see how many minutes per day, on average, different subgroupings of gender
    and household income spend on the 17 high-level ATUS time use categories. You will be able to clearly
    see how economic conditions affect the ways in which people are able to spend their time.
    Select a group from each category and press the reload button below to examine the resulting map.
    This project examines state level data as it likely captures latent variables related to economic
    and cultural differences in the United States Population. ATUS only captures two genders
    in their demographic data, or else more would have been used.
  </p>

<div align="center">
   <div id="vis"></div>
    <div class="bigmap">
     <script type="text/javascript">
      var spec =
        "https://raw.githubusercontent.com/qunderriner/Dyanamic_2/master/data/start.json";
      vegaEmbed("#vis", spec)
        .then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
    </script>
    <script>
      function myFunction() {
        var x = document.getElementById("gender");
        console.log(123, x.value)
        if (x.value === "Male") {
          var pathway = "_Male_";
        }
        if (x.value === "Female") {
          var pathway = "_Female_";
        }

        var inc = document.getElementById("income");
        if (inc.value=="income1") {
          var pathway1 = "0-24999";
        }
        if (inc.value === "income2") {
          var pathway1 = "24999-49999";
        }
        if (inc.value === "income3") {
          var pathway1 = "49999-74999";
        }
        if (inc.value === "income4") {
          var pathway1 = "74999-99999";
        }
        if (inc.value === "income5") {
          var pathway1 = "100000%2B";
        }

        var act = document.getElementById("activity");
        if (act.value == "activity1") {
                  var pathway2 = "Buying_Items.json";
                }
        if (act.value == "activity2") {
                  var pathway2 = "Caring_For_Household_Members.json";
                }
        if (act.value == "activity3") {
                  var pathway2 = "Caring_for_Nonhousehold_Members.json";
                }
        if (act.value == "activity4") {
                  var pathway2 = "Civic_Obligations.json";
                }
        if (act.value == "activity5") {
                  var pathway2 = "Coordinating_Household_Labor.json";
                }
        if (act.value == "activity6") {
                  var pathway2 = "Eating_&_Drinking.json";
                }
        if (act.value == "activity7") {
                  var pathway2 = "Household_Activities.json";
                }
        if (act.value == "activity8") {
                  var pathway2 = "Personal_Care.json";
                }
        if (act.value == "activity9") {
                  var pathway2 = "Playing_Sports.json";
                }
        if (act.value == "activity10") {
                  var pathway2 = "Pursuing_Education.json";
                }
        if (act.value == "activity11") {
                  var pathway2 = "Religious_Activity.json";
                }
        if (act.value == "activity12") {
                  var pathway2 = "Socializing.json";
                }
        if (act.value == "activity13") {
                  var pathway2 = "Soliciting_and_Using_Professional_Services.json";
                }
        if (act.value == "activity14") {
                  var pathway2 = "Talking_on_the_Phone.json";
                }
        if (act.value == "activity15") {
                  var pathway2 = "Traveling_for_Any_Reason.json";
                }
        if (act.value == "activity16") {
                  var pathway2 = "Volunteering.json";
                }
        if (act.value == "activity17") {
                  var pathway2 = "Working.json";
                }

        var base =
          "https://raw.githubusercontent.com/qunderriner/Dyanamic_2/master/data/";
        var spec = base.concat(pathway1,pathway,pathway2);
        console.log(spec);
        vegaEmbed("#vis", spec)
          .then(function(results) {
            // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
          })
          .catch(console.error);
      }
    </script>
        </div>
      </div>


<div class="flex-container">
    <div>
  Gender:
  <select id="gender">
  <option value="Male">Male</option>
  <option value="Female">Female</option>
</select>

<!--
    Male: <input type="radio" id="Male" name="gender" />
    Female:<input
      type="radio"
      id="Female"
      name="gender"> -->
  </div>


    <div>
    Income bracket:
    <select id='income'>
      <option value="income1">$0-$24,999</option>
      <option value="income2">$24,999-$49,999</option>
      <option value="income3">$49,999-$74,999</option>
      <option value="income4">$74,999-$99,999</option>
      <option value="income5">$100,000+</option>
    </select>
  </div>

  <div>
    Activity:
    <select id="activity">
      <option value="activity1">Buying items</option>
      <option value="activity2">Caring for household members</option>
      <option value="activity3">Caring for nonhousehold members</option>
      <option value="activity4">Civic obligations</option>
      <option value="activity5">Coordinating household labor</option>
      <option value="activity6">Eating and drinking</option>
      <option value="activity7">Household activities</option>
      <option value="activity8">Personal care</option>
      <option value="activity9">Playing sports</option>
      <option value="activity10">Pursuing education</option>
      <option value="activity11">Religious activity</option>
      <option value="activity12">Socializing</option>
      <option value="activity13">Soliciting and using professional services</option>
      <option value="activity14">Talking on the phone</option>
      <option value="activity15">Traveling for any reason</option>
      <option value="activity16">Volunteering</option>
      <option value="activity17">Working</option>
  </select>
    </div>
    <div>
    <button class=button onclick="myFunction()">Reload Map</button>
    </div>
</div>


    <div id="vis"></div>
    <div id="app"></div>
    <script src="bundle.js"></script>
    <div align="center", width=100%>
    <div id="vis2">
  <script type="text/javascript">
      var spec1 = "https://raw.githubusercontent.com/qunderriner/Dyanamic_2/master/data/time_series.json";
      vegaEmbed("#vis2", spec1)
        .then(function(result) {
          // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
        })
        .catch(console.error);
    </script>
    </div>
</div>
    <div class="citation">
    <p>All data used for this project is from the US Census Time Use Survey. Specfically:
    Sandra L. Hofferth, Sarah M. Flood and Matthew Sobek.
    American Time Use Survey Data Extract Builder: Version 2.7 [dataset].
    College Park, MD: University of Maryland and Minneapolis, MN: IPUMS, 2018.
    https://doi.org/10.18128/D060.V2.7https://ipums.org/projects/ipums-time-use
    </p>


    </div>



  </body>
</html>
